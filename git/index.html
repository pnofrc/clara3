<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Clara Gatti Comini</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="style.css">
        <script src="https://unpkg.com/wavesurfer.js"></script>
<script src="https://unpkg.com/wavesurfer.js/dist/plugin/wavesurfer.markers.min.js"></script>
        <!-- <script src="wavesurfer.js/dist/plugin/wavesurfer.timeline.js"></script>
        <script src="wavesurfer.js/dist/plugin/wavesurfer.markers.js"></script>
        <script src="wavesurfer.js/dist/plugin/wavesurfer.minimap.js"></script>
        <script src="wavesurfer.js/dist/wavesurfer.js"></script> -->
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.3.7/wavesurfer.min.js"></script> -->
        <!-- <script src="https://unpkg.com/wavesurfer.js/dist/plugin/wavesurfer.regions.min.js"></script> -->
        <!-- <script src="//cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.4.0/wavesurfer.min.js"></script> -->

    </head>
    <body>
        <main>

            <div class="row">
                <div class="column">
                    <video src="11.mp4" type="video/mp4">
                    </video>
                    <div id="waveform"></div>
                </div>
                <div class="column" id="dx">
                    <p>Clara<br><span>Gatti Comini</span></p>
                    <p id="text">is an harpist based in London</p>
                    
                    <input type="button" id="btn-play" value="Play" disabled="disabled"/>
                    <input type="button" id="btn-pause" value="Pause" disabled="disabled"/>
                    <input type="button" id="btn-stop" value="Stop" disabled="disabled" />



                </div>
              </div> 



        <footer>

            <a href="mailto:info@claragatticomini.com">info@claragatticomini.com</a>
        </footer>

        <!-- <script>
            var buttons = {
                play: document.getElementById("btn-play"),
                pause: document.getElementById("btn-pause"),
                re: document.getElementById("btn-re")
            };


            var wavesurfer = WaveSurfer.create({
            container: document.querySelector('#waveform'),
            waveColor: '#A8DBA8',
            progressColor: '#3B8686',
            backend: 'MediaElement'
            });

            // Load audio from existing media element
            var mediaElt = document.querySelector('source');

            wavesurfer.load(mediaElt);

            buttons.play.addEventListener("click", function(){
                wavesurfer.play();
            });


            buttons.pause.addEventListener("click", function(){
                wavesurfer.pause();
            });

            
            wavesurfer.load(mediaElt);

        </script> -->
        
        <!-- <script  async defer>
            

            var wavesurfer = WaveSurfer.create({
            container: document.querySelector('#waveform'),
            waveColor: '#A8DBA8',
            progressColor: '#3B8686',
            backend: 'MediaElement'
            });

            // Load audio from existing media element
            var mediaElt = document.querySelector('source');

            wavesurfer.load(mediaElt);
            // wavesurfer.load('1.mp4');

        //    wavesurfer.on('click', function () {
        //     wavesurfer.play();
        // });

        var btn = document.getElementById("btn");

            btn.addEventListener('click', function () {
            wavesurfer.play();

            });



        </script> -->

        <script defer>
// import WaveSurfer from 'wavesurfer.js';
            // Store the 3 buttons in some object
            var buttons = {
                play: document.getElementById("btn-play"),
                pause: document.getElementById("btn-pause"),
                stop: document.getElementById("btn-stop")
            };

            var t0 = 0;
            var t1 = 0.9;
            var t2 = 1.8;
            var t3 = 2.7;
            var t4 = 4;
            var t5 = 6;

            // Create an instance of wave surfer with its configuration
            var Spectrum = WaveSurfer.create({
                container: '#waveform',
                // rtl: true,
                plugins: [
                 WaveSurfer.markers.create({
                markers: [
                    {
                        time: t0,
                        label: "Home",
                        color: 'rgb(203, 29, 29)',
                        
                    },
                    {
                        time: t1,
                        label: "Bio",
                        color: 'rgb(203, 29, 29)',
                        position: 'top',
                        // end: 0.9

                    },
                    {
                        time: t2,
                        label: "Concerts",
                        color: 'rgb(203, 29, 29)',
                        // end: 1.8,

                    },
                    {
                        time: t3,
                        label: "Repertoire",
                        color: 'rgb(203, 29, 29)',
                        position: 'top',
                        // end: 2.7,


                    },
                    {
                        time: t4,
                        label: "Teaching",
                        color: 'rgb(203, 29, 29)',
                         end:4,

                    },
                    {
                        time: t5,
                        label: "Contacts",
                        color: 'rgb(203, 29, 29)',
                        position: 'top'


                    }
                ]
            })
    ],
    progressColor: "rgba(0,0,0,0.4)",
                backend: 'MediaElement',

            });




  
            var mark0 = document.getElementsByClassName("wavesurfer-marker")[0];
            var mark1 = document.getElementsByClassName("wavesurfer-marker")[1];
            var mark2 = document.getElementsByClassName("wavesurfer-marker")[2];
            var mark3 = document.getElementsByClassName("wavesurfer-marker")[3];
            var mark4= document.getElementsByClassName("wavesurfer-marker")[4];
            var mark5 = document.getElementsByClassName("wavesurfer-marker")[5];




            var ora = Spectrum.getCurrentTime();


           mark0.addEventListener("click", function(){

              if (Spectrum.isPlaying() == true){
                    Spectrum.toggleInteraction();
                };
                // // Spectrum.pause()
                // console.log(ora);
                
                Spectrum.play(ora,0);
                Spectrum.setPlayEnd(0);
                // Spectrum.pause()
                var ora = Spectrum.getCurrentTime();
            console.log(ora);
                
                console.log("cans0");

            })

            mark1.addEventListener("click", function(){

                // // Spectrum.pause()
                 if (Spectrum.isPlaying() == true){
                    Spectrum.toggleInteraction();
                };
                // console.log(ora);
                Spectrum.play(ora,0.9);
                Spectrum.setPlayEnd(0.9);
                var ora = Spectrum.getCurrentTime();
            console.log(ora);
                // Spectrum.pause()
                console.log("cans1");
            })

            mark2.addEventListener("click", function(){
                 if (Spectrum.isPlaying() == true){
                    Spectrum.toggleInteraction();
                };


                // // Spectrum.pause()
                // console.log(ora);
                Spectrum.play(ora,1.8);
                Spectrum.setPlayEnd(1.8);
                var ora = Spectrum.getCurrentTime();
            console.log(ora);
                // Spectrum.pause()
                console.log("cans2");
            })

            mark3.addEventListener("click", function(){
                 if (Spectrum.isPlaying() == true){
                    Spectrum.toggleInteraction();
                };

                Spectrum.play(ora,2.7);
                Spectrum.setPlayEnd(2.7);
                var ora = Spectrum.getCurrentTime();
                console.log(ora);
                console.log("cans3");
            })

            mark4.addEventListener("click", function(){
                if (Spectrum.isPlaying() == true){
                    Spectrum.toggleInteraction();
                };
                Spectrum.play(ora,4);
                Spectrum.setPlayEnd(4);
               
                var ora = Spectrum.getCurrentTime();
            console.log(ora);
                console.log("cans4");
            })

            mark5.addEventListener("click", function(){
                 if (Spectrum.isPlaying() == true){
                    Spectrum.toggleInteraction();
                };


                // Spectrum.pause()
                Spectrum.play(ora,6);
                Spectrum.setPlayEnd(6);
                            var ora = Spectrum.getCurrentTime();
            console.log(ora);
                console.log("cans5");
            })
            
            // let test = Spectrum.getElementById("test");
    //    
            // console.log(mark)

            // Handle Play button

            // document.getElementById("waveform").addEventListener("click", function(){
            //     Spectrum.play();
            //     // var ora = Spectrum.getCurrentTime();
            //     // let fine = Spectrum.setPlayEnd(Spectrum.markers.label);
            //     // console.log('ocs')
            //     // if (fine > ora){
            //     //     rtl: true
            //     // };
            //     // Spectrum.play(ora,fine)
            // })

            buttons.play.addEventListener("click", function(){
                var currentProgress = Spectrum.getCurrentTime() / Spectrum.getDuration();
                Spectrum.seekTo(currentProgress);
                Spectrum.play();
                // Spectrum.wavesurfer.skipForward();


                // Enable/Disable respectively buttons
                buttons.stop.disabled = false;
                buttons.pause.disabled = false;
                buttons.play.disabled = true;
            }, false);

            // console.log(mark);

            // Handle Pause button
            buttons.pause.addEventListener("click", function(){
                // Spectrum.pause()

                // Enable/Disable respectively buttons
                buttons.pause.disabled = true;
                buttons.play.disabled = false;
            }, false);


            // Handle Stop button
            buttons.stop.addEventListener("click", function(){
                Spectrum.stop();

                // Enable/Disable respectively buttons
                buttons.pause.disabled = true;
                buttons.play.disabled = false;
                buttons.stop.disabled = true;
            }, false);


            // Add a listener to enable the play button once it's ready
            Spectrum.on('ready', function () {
                buttons.play.disabled = false;
            });
            
            // If you want a responsive mode (so when the user resizes the window)
            // the spectrum will be still playable
            window.addEventListener("resize", function(){
                // Get the current progress according to the cursor position

                // Reset graph
                Spectrum.empty();
                Spectrum.drawBuffer();
                // Set original position
                

                // Enable/Disable respectively buttons
                buttons.pause.disabled = true;
                buttons.play.disabled = false;
                buttons.stop.disabled = false;
            }, false);

            // Load the audio file from your domain !
            var mediaElt = document.querySelector('video');

            Spectrum.load(mediaElt);
            </script>
        
    </body>
</html>